---
title: "git远程分支rebase主分支"
category: git
layout: article
---

考虑这样一个场景：一个公司围绕一个产品开发了主分支-master,当然，不可能每个
人都在主分支上做开发对不对，好，我们使用PR进行多部门的开发，参考这里
[git如何进行PR](http://www.aftermath.cn/git-stash.html).

# step 1 : 克隆仓库
首先，先克隆一个git仓库，这个不用说太多。我以自己的仓库为例，进行代码演示。

```git
git clone https://github.com/yuzibo/yuzibo.github.io.git
正克隆到 'yuzibo.github.io'...
remote: Enumerating objects: 9, done.
remote: Counting objects: 100% (9/9), done.
remote: Compressing objects: 100% (7/7), done.
remote: Total 2931 (delta 2), reused 8 (delta 2), pack-reused 2922
接收对象中: 100% (2931/2931), 1010.61 KiB | 502.00 KiB/s, 完成.
处理 delta 中: 100% (1939/1939), 完成.
```

当然，这个时候默认为master主分支。

```git
cd yuzibo.github.io/
yubo@debian:~/yuzibo.github.io$ git branch
* master
```

# step 2 : 新建分支
这个分支就是你自己要开发的分支，记住一点，实时的rebase master分支。

```git
git checkout -b test-pr
git rebase origin/master  # 首先在主分支使用fetch
```

# step 3 : 产生request pull
在你开发完成后，为了将自己的工作合并到主分支中，需要产生request pull,让维护人接受你的改变。

这里的使用是标准的git开发流程git add && commit.接下来，在你的开发分支上，使用以下命令，我们可以看到：

```git
git push -u
fatal: 当前分支 test-pr 没有对应的上游分支。
为推送当前分支并建立与远程上游的跟踪，使用

    git push --set-upstream origin test-pr

```

提示的非常明显，第一步，我以github网站为例，首先在网站上合并rp,另外一种是命令行。

 上面的提示命令我简写一步:

```git

git push -u origin test-pr
对象计数中: 4, 完成.
Delta compression using up to 4 threads.
压缩对象中: 100% (4/4), 完成.
写入对象中: 100% (4/4), 624 bytes | 0 bytes/s, 完成.
Total 4 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
remote:
remote: Create a pull request for 'test-pr' on GitHub by visiting:
remote:      https://github.com/yuzibo/yuzibo.github.io/pull/new/test-pr
remote:
To https://github.com/yuzibo/yuzibo.github.io.git
* [new branch]      test-pr -> test-pr
分支 test-pr 设置为跟踪来自 origin 的远程分支 test-pr。
```
这个提示就说明在网站上有了rp请求，现在我的图床没法使用了，图片就先不适用了。你可以到github的仓库上去看一下，根据提示你应该没问题的，有问题的话，可以再找我咨询。




