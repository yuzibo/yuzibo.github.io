---
title: "linux之提高文件I/O效率"
layout: article
category: kernel
---

# 缓冲区的大小对性能的影响

对大小是2500字节的文件进行copy操作，

	如果缓冲区大小是100字节，需要25次read()和write()；

    如果缓冲区大小是1000字节，需要3次read() 和write()


# 系统调用的影响

缓冲区之所以对文件I/O性能有着显著的影响，这是因为每一次的read()、write()操作
必须经过系统调用，也就是内核访问。用户空间的程序每次必须经过内核才可以访问位
于 磁盘上的文件。

# 思路

引入缓冲区，就是不必每次访问系统呼叫，只需一次调用，将内容放入缓冲区，每次用
户空间的程序可以访问缓冲区的内容，直至缓冲区的内容被消耗掉。

[举个例子]()

