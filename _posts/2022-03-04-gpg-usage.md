---
title: GPG生成方式解密
category: tools
layout: post
---
* content
{:toc}

因为需要上传Debian package，不得已需要一个GPG key。

请参考[github](https://docs.github.com/en/authentication/managing-commit-signature-verification/generating-a-new-gpg-key)

# 生成 gpg key

```bash
vimer@debian-local:~/git/git-multimail$ gpg --full-generate-key
gpg (GnuPG) 2.2.27; Copyright (C) 2021 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

请选择您要使用的密钥类型：
   (1) RSA 和 RSA （默认）
   (2) DSA 和 Elgamal
   (3) DSA（仅用于签名）
   (4) RSA（仅用于签名）
  (14) Existing key from card
您的选择是？
RSA 密钥的长度应在 1024 位与 4096 位之间。
您想要使用的密钥长度？(3072) 4096 选4096
```


# GPG key id

```bash
gpg --list-secret-keys --keyid-format=long
vimer@debian:~/build_test/jimtcl$ gpg --list-secret-keys --keyid-format=long
gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
/home/vimer/.gnupg/pubring.kbx
------------------------------
sec   rsa4096/42A2928E26E21C2 2022-03-04 [SC]
      DD7E8C65E3F5992F52AAA07A452A2928E26E21C2
uid                 [ultimate] vimer <tsu.yubo@gmail.com>
ssb   rsa4096/3338B86BD4FCE12A 2022-03-04 [E]
```
我们这里需要注意的就是`42A2928E26E21C2`，也就是下面需要的id.

# 打印自己的gpg(ASCII 形式)

```bash
gpg --armor --export id
```
目前是一个pc(一个开发环境一个key)，这样的方式有点笨拙。

可以[参考这里](https://superuser.com/questions/466396/how-to-manage-gpg-keys-across-multiple-systems)解决这个问题。

如果是  upload mentor，需要做以下内容：
cat .dput.cf
```bash
[mentors]
fqdn = mentors.debian.net
incoming = /upload
method = https
allow_unsigned_uploads = 0
progress_indicator = 2
# Allow uploads for UNRELEASED packages
allowed_distributions = .*
```